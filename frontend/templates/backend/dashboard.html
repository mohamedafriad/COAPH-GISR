{% extends "frontend/index.html" %}
{% load static %}{% load i18n grp_tags %}
{% block title %}خدماتي - COAPH - الفضاء الخاص{% endblock %}
{% block extrahead %}
<style>
    .card-counter {
        box-shadow: 2px 2px 10px #DADADA;
        margin: 5px;
        padding: 20px 10px;
        background-color: #fff;
        height: 100px;
        border-radius: 5px;
        transition: .3s linear all;
    }

    .card-counter:hover{
        box-shadow: 4px 4px 20px #DADADA;
        transition: .3s linear all;
    }

    .card-counter.primary{
        background-color: #007bff;
        color: #FFF;
    }

    .card-counter.danger{
        background-color: #ef5350;
        color: #FFF;
    }

    .card-counter.success{
        background-color: #66bb6a;
        color: #FFF;
    }

    .card-counter.info{
        background-color: #26c6da;
        color: #FFF;
    }

    .card-counter i{
        font-size: 5em;
        opacity: 0.2;
    }

    .card-counter .count-numbers{
        position: absolute;
        right: 35px;
        top: 20px;
        font-size: 32px;
        display: block;
    }

    .card-counter .count-name{
        position: absolute;
        right: 35px;
        top: 65px;
        font-style: italic;
        text-transform: capitalize;
        opacity: 0.5;
        display: block;
        font-size: 18px;
    }
    #female > .card-header {
      background-color: #d63384;
    }
    #male > .card-header {
      background-color: #0d6efd;
    }
    div#contentall {
      position: relative;
    }
    .card {
        transition: transform 0.2s ease;
        box-shadow: 0 4px 6px 0 rgba(22, 22, 26, 0.18);
        border-radius: 0;
        border: 0;
        margin-bottom: 1.5em;
    }
    .card:hover {
        transform: scale(1.1);
    }
</style>
{% endblock %}
{% block content %}

{% include 'backend/region_province_filter_backend.html' %}

<div class="d-flex align-items-start">
  <div class="nav flex-column nav-pills ms-3 col-md-2 col-sm-12 py-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
    <button class="nav-link active" id="v-pills-projets-tab" data-bs-toggle="pill" data-bs-target="#v-pills-projets" type="button" role="tab" aria-controls="v-pills-projets" aria-selected="false"><i class="fas fa-gears"></i> المشاريع</button>
    <button class="nav-link" id="v-pills-profile-tab" data-bs-toggle="pill" data-bs-target="#v-pills-profile" type="button" role="tab" aria-controls="v-pills-profile" aria-selected="true"><i class="fas fa-user"></i> المستفيدون</button>
    <button class="nav-link" id="v-pills-messages-tab" data-bs-toggle="pill" data-bs-target="#v-pills-messages" type="button" role="tab" aria-controls="v-pills-messages" aria-selected="false"><i class="fas fa-chart-column"></i> رسوم مبيانية</button>
  </div>

  <div class="tab-content col-md-10 col-sm-12" id="v-pills-tabContent">
    <!-- SECTION PROJETS -->
    <!-- section tabs test -->
    <div class="tab-pane fade show active col-md-12" id="v-pills-projets" role="tabpanel" aria-labelledby="v-pills-projets-tab">
      <ul class="nav nav-pills mt-2 mb-3 d-flex justify-content-center text-center" id="pills-tab" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile" type="button" role="tab" aria-controls="pills-profile" aria-selected="false">حسب الصيغة القانونية</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-contact-tab" data-bs-toggle="pill" data-bs-target="#pills-contact" type="button" role="tab" aria-controls="pills-contact" aria-selected="false">حسب الوسط</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-secteur-tab" data-bs-toggle="pill" data-bs-target="#pills-secteur" type="button" role="tab" aria-controls="pills-secteur" aria-selected="false">حسب القطاع</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-situation-tab" data-bs-toggle="pill" data-bs-target="#pills-situation" type="button" role="tab" aria-controls="pills-situation" aria-selected="true">حسب الوضعية</button>
        </li>
      </ul>
      <div class="tab-content d-flex justify-content-center" id="pills-tabContent">
        <!-- PROJETS PAR SITUATION -->
        <div class="tab-pane fade show w-100" id="pills-situation" role="tabpanel" aria-labelledby="pills-situation-tab">
          <div class="row gx-2 gy-2 my-4 justify-content-center">
            {% include "backend/card.html" with col="2" bg="primary" titre="في طور المعالجة" icon="arrows-spin" cardinfo=projets.count only %}
            {% include "backend/card.html" with col="2" bg="success" titre="تم توقيع عقد التمويل" icon="file-signature" cardinfo=projets.count only %}
            {% include "backend/card.html" with col="2" bg="info" titre="تم التمويل" icon="hand-holding-dollar" cardinfo=projets.count only %}
            {% include "backend/card.html" with col="2" bg="warning" titre="في طور الانجاز" icon="hourglass-half" cardinfo=projets.count only %}
            {% include "backend/card.html" with col="2" bg="danger" titre="مرفوض" icon="ban" cardinfo=projets.count only %}
          </div>
        </div>
        <!-- FIN TAB SITUATION PROJET -->
        <!-- TAB PAR FORME JURIDIQUE -->
        <div class="tab-pane active show fade w-100" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
          <div class="row gx-1 gy-2 my-4">
            {% include "backend/card.html" with col="3" bg="primary" titre="مقاول ذاتي" icon="briefcase" cardinfo=projets_ae cardinfoplus=projets.count only %}
            {% include "backend/card.html" with col="3" bg="success" titre="شركة ذاتية" icon="building" cardinfo=projets_ph cardinfoplus=projets.count  only %}
            {% include "backend/card.html" with col="3" bg="warning" titre="شركة أشخاص" icon="people-group" cardinfo=projets_soc cardinfoplus=projets.count only %}
            {% include "backend/card.html" with col="3" bg="info" titre="تعاونية" icon="hands-holding-circle" cardinfo=projets_coop cardinfoplus=projets.count only %}
          </div>
        </div>
        <!-- FIN TAB FORME JURIDIQUE -->
        <!-- TAB PAR MILIEU D'IMPLANTATION -->
        <div class="tab-pane fade w-100" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">
          <div class="row gx-1 gy-2 my-4">
            {% include "backend/card.html" with col="6" bg="primary" titre="حضري" icon="city" cardinfo=projets_urbain only %}
            {% include "backend/card.html" with col="6" bg="success" titre="قروي" icon="mountain-sun" cardinfo=projets_rural only %}
          </div>
        </div>
        <!-- FIN TAB PAR MILIEU D'IMPLANTATION -->
        <!-- PROJETS PAR SECTEUR -->
        <div class="tab-pane fade w-100" id="pills-secteur" role="tabpanel" aria-labelledby="pills-secteur-tab">
          <div class="row gx-2 gy-2 my-4 justify-content-center">
            {% include "backend/card.html" with col="2" bg="primary" titre="التجارة" icon="shop" cardinfo=projets_commerce only %}
            {% include "backend/card.html" with col="2" bg="success" titre="الخدمات" icon="truck-fast" cardinfo=projets_services only %}
            {% include "backend/card.html" with col="2" bg="info" titre="الصناعة التقليدية" icon="rug" cardinfo=projets_artisanat only %}
            {% include "backend/card.html" with col="2" bg="warning" titre="الفلاحة" icon="tractor" cardinfo=projets_agriculture only %}
            {% include "backend/card.html" with col="2" bg="danger" titre="الصناعة" icon="industry" cardinfo=projets_industrie only %}
            {% include "backend/card.html" with col="2" bg="info" titre="آخر" icon="folder-tree" cardinfo=projets_autre only %}
          </div>
        </div>
        <!-- FIN TAB SECTEUR PROJET -->
      </div>
    </div>
    <!-- fin section tabs test -->
    <!--fin section projets-->
    <!-- SECTION GENRE -->
    {% include "backend/dash_psh_tab.html" with projets=projets %}
    <!-- fin section genre -->
    <!-- section graphiques -->
    <div class="tab-pane fade" id="v-pills-messages" role="tabpanel" aria-labelledby="v-pills-messages-tab">
      <div class="row gx-3 gy-2 my-4">
        <div class="col-sm-4">
          <div class="card shadow-lg text-center">
            <div class="card-body">
              <i class="fa-solid fa-chart-pie fa-10x"></i>
            </div>
          </div>
        </div>
        <div class="col-sm-4">
          <div class="card shadow-lg text-center">
            <div class="card-body">
              <i class="fa-solid fa-chart-line fa-10x"></i>
            </div>
          </div>
        </div>
        <div class="col-sm-4">
          <div class="card shadow-lg text-center">
            <div class="card-body">
              <i class="fa-solid fa-percent fa-10x"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- fin section graphiques -->

    <!-- section tabs test
    <div class="tab-pane fade" id="v-pills-tabs" role="tabpanel" aria-labelledby="v-pills-tabs-tab">
      <ul class="nav nav-pills mt-2 mb-3 d-flex justify-content-center text-center" id="pills-tab" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true">حسب الوضعية</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile" type="button" role="tab" aria-controls="pills-profile" aria-selected="false">حسب الصيغة القانونية</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="pills-contact-tab" data-bs-toggle="pill" data-bs-target="#pills-contact" type="button" role="tab" aria-controls="pills-contact" aria-selected="false">حسب الوسط</button>
        </li>
      </ul>
      <div class="tab-content d-flex justify-content-center" id="pills-tabContent">
        <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">

        </div>
        <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">

        </div>
        <div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">

        </div>
      </div>
    </div>
    // fin section tabs test -->
    </div>
  </div>
</div>







{% endblock %}
{% block extrascripts %}
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.0/Chart.min.js"></script>
    <script>
        var randomColorGenerator = function () {
            return '#' + (Math.random().toString(16) + '0000000').slice(2, 8);
        };
        var options_1 = {
            responsive: true,
            maintainAspectRatio: true,
            legend: {
                display: true,
                position: 'left'
            },
            title: {
                display: false,
                text: 'Par Sexe',
            },
            animation: {
                animateScale: true,
                animateRotate: true
            }
        };
        var options_2 = {
            responsive: true,
            maintainAspectRatio: true,
            legend: {
                display: true,
                position: 'left'
            },
            title: {
                display: false,
                text: "Par tranche d'age",
            },
            animation: {
                animateScale: true,
                animateRotate: true
            }
        };
        window.onload = function () {
            var ctx = document.getElementById("gender-chart");
            var lineChart = new Chart(ctx, {
                type: 'pie', //doughnut
                data: {
                    labels: ["{{ label1 }}", "{{ label2 }}"],
                    datasets: [{
                        data: [{{ demande_mas }}, {{ demande_fem }}],
                        backgroundColor: ['#007bff', '#ef5350']
                    }]
                },
                options: options_1
            });
            var cts = document.getElementById("language-chart");
            var lineChart = new Chart(cts, {
                type: 'doughnut', //doughnut
                data: {
                    labels: ['{{ tranch_label1 }}', '{{ tranch_label2 }}', '{{ tranch_label3 }}'],
                    datasets: [{
                        data: [{{ tranch1 }}, {{ tranch2 }}, {{ tranch3 }}],
                        backgroundColor: ['#007bff', '#ef5350', '#66bb6a']
                    }]
                },
                options: options_2
            });
        }
</script>-->
{% endblock %}
